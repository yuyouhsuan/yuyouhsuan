<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SDGs æµ·ç˜æ¸…æ½”ä»»å‹™</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Beach_background.jpg/1280px-Beach_background.jpg');
      background-size: cover;
      background-position: center;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 20px;
      background-color: rgba(255, 255, 255, 0.7);
      display: inline-block;
      padding: 10px;
    }
    #game-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      margin: 30px;
      min-height: 240px;
      background-color: rgba(255, 255, 255, 0.85);
      padding: 20px;
      border-radius: 10px;
    }
    .item, .bin, .clickable-trash, .choice-card {
      width: 100px;
      height: 100px;
      margin: 10px;
      padding: 10px;
      border: 2px dashed #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      background-color: #fff;
      border-radius: 12px;
    }
    .choice-card {
      border: 2px solid #03a9f4;
      background-color: #e1f5fe;
      color: #0277bd;
      border-radius: 20px;
      padding: 10px;
      margin: 5px auto;
      width: 80%;
    }
    .bin {
      border: 2px solid #00796b;
      background-color: #b2dfdb;
    }
    #result {
      margin-top: 20px;
      font-size: 1.2em;
      font-weight: bold;
      background-color: rgba(255, 255, 255, 0.8);
      display: inline-block;
      padding: 10px;
    }
    #next-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1em;
      display: none;
      background-color: #00bcd4;
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
    }
    #next-btn:hover {
      background-color: #008ba3;
    }
    .float-box {
      background-color: rgba(255, 255, 255, 0.95);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      position: relative;
      max-width: 300px;
      margin: 20px auto;
    }
    .mole-target {
      width: 80px;
      height: 80px;
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/f/f4/PET_bottle_icon_color.svg');
      background-size: contain;
      background-repeat: no-repeat;
      position: absolute;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>SDGs æµ·ç˜æ¸…æ½”ä»»å‹™</h1>
  <p id="instructions">å°‡ç‰©å“æ‹–æ›³åˆ°æ­£ç¢ºçš„åƒåœ¾æ¡¶ï¼</p>
  <div id="game-container"></div>
  <div id="result"></div>
  <button id="next-btn">ä¸‹ä¸€é—œ</button>

  <script>
    const bottleImage = "https://upload.wikimedia.org/wikipedia/commons/f/f4/PET_bottle_icon_color.svg";

    const levels = [
      {
        type: "drag",
        items: { item1: "è³‡æºå›æ”¶", item2: "å»šé¤˜", item3: "è³‡æºå›æ”¶", item4: "æœ‰å®³åƒåœ¾" },
        labels: { item1: "å¯¶ç‰¹ç“¶", item2: "å‰©é£¯", item3: "å ±ç´™", item4: "èˆŠæ‰‹æ©Ÿ" }
      },
      {
        type: "click-choice",
        image: bottleImage,
        question: "æµ·ç˜ä¸Šç™¼ç¾ä¸€å€‹å¯¶ç‰¹ç“¶ï¼Œä½ æ‡‰è©²æ€éº¼åšï¼Ÿ",
        options: ["æŠŠå®ƒä¸Ÿå›æµ·è£¡", "å¿½ç•¥å®ƒ", "ä¸Ÿå…¥è³‡æºå›æ”¶æ¡¶", "åŸ‹é€²æ²™å­è£¡"],
        answer: "ä¸Ÿå…¥è³‡æºå›æ”¶æ¡¶"
      },
      {
        type: "mole",
        count: 5
      },
      {
        type: "memory",
        cards: [
          { id: 1, label: "å¯¶ç‰¹ç“¶", match: "è³‡æºå›æ”¶" },
          { id: 2, label: "é›»æ± ", match: "æœ‰å®³åƒåœ¾" },
          { id: 3, label: "æœçš®", match: "å»šé¤˜" },
          { id: 4, label: "ç ´æ‹–é‹", match: "ä¸€èˆ¬åƒåœ¾" }
        ]
      },
      {
        type: "drag",
        items: { item1: "ä¸€èˆ¬åƒåœ¾", item2: "è³‡æºå›æ”¶", item3: "å»šé¤˜", item4: "æœ‰å®³åƒåœ¾" },
        labels: { item1: "ä¿éº—é¾", item2: "éµç½", item3: "æœçš®", item4: "éæœŸè—¥å“" }
      }
    ];

    let currentLevel = 0;
    let correctCount = 0;
    const bins = ["è³‡æºå›æ”¶", "å»šé¤˜", "ä¸€èˆ¬åƒåœ¾", "æœ‰å®³åƒåœ¾"];
    const container = document.getElementById("game-container");
    const result = document.getElementById("result");
    const nextBtn = document.getElementById("next-btn");
    const instructions = document.getElementById("instructions");

    function loadLevel(levelIndex) {
      container.innerHTML = "";
      result.innerText = "";
      nextBtn.style.display = "none";
      correctCount = 0;

      const level = levels[levelIndex];

      if (level.type === "click-choice") {
        instructions.innerText = "é»æ“Šå¯¶ç‰¹ç“¶ä¸¦é¸æ“‡æ­£ç¢ºç­”æ¡ˆï¼";
        const bottle = document.createElement("img");
        bottle.src = level.image;
        bottle.style.width = "100px";
        bottle.style.cursor = "pointer";
        bottle.onclick = () => {
          const box = document.createElement("div");
          box.className = "float-box";
          box.innerHTML = `<p>${level.question}</p>`;
          level.options.forEach(opt => {
            const btn = document.createElement("button");
            btn.className = "choice-card";
            btn.innerText = opt;
            btn.onclick = () => {
              if (opt === level.answer) {
                result.innerText = "ç­”å°äº†ï¼åšå¾—å¥½ï¼";
                nextBtn.style.display = "inline-block";
              } else {
                result.innerText = "ç­”éŒ¯äº†ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚";
              }
              box.remove();
            };
            box.appendChild(btn);
          });
          container.appendChild(box);
        };
        container.appendChild(bottle);
        return;
      }

      if (level.type === "mole") {
        instructions.innerText = "é»æ“Šæµ·ç˜ä¸Šå‡ºç¾çš„å¯¶ç‰¹ç“¶ä¾†æ¸…æ½”æµ·ç˜ï¼";
        let clicked = 0;
        for (let i = 0; i < level.count; i++) {
          const mole = document.createElement("div");
          mole.className = "mole-target";
          mole.style.top = Math.random() * 200 + "px";
          mole.style.left = Math.random() * 600 + "px";
          mole.style.position = "absolute";
          mole.onclick = () => {
            mole.remove();
            clicked++;
            if (clicked === level.count) {
              result.innerText = "å…¨éƒ¨å¯¶ç‰¹ç“¶æ¸…ç†å®Œç•¢ï¼";
              nextBtn.style.display = "inline-block";
            }
          };
          container.appendChild(mole);
        }
        return;
      }

      if (level.type === "memory") {
        instructions.innerText = "é»æ“Šå…©å¼µå¡ç‰‡æ‰¾å‡ºæ­£ç¢ºåˆ†é¡é…å°ï¼(å°šæœªå¯¦ä½œ)";
        result.innerText = "(æœ¬é—œå°šå¾…é–‹ç™¼)";
        nextBtn.style.display = "inline-block";
        return;
      }

      instructions.innerText = "å°‡ç‰©å“æ‹–æ›³åˆ°æ­£ç¢ºçš„åƒåœ¾æ¡¶ï¼";
      for (const [id, type] of Object.entries(level.items)) {
        const div = document.createElement("div");
        div.className = "item";
        div.id = id;
        div.innerText = level.labels[id];
        div.draggable = true;
        div.addEventListener("dragstart", e => {
          e.dataTransfer.setData("text/plain", id);
        });
        container.appendChild(div);
      }
      bins.forEach(binType => {
        const bin = document.createElement("div");
        bin.className = "bin";
        bin.dataset.type = binType;
        bin.innerText = binType;
        bin.addEventListener("dragover", e => e.preventDefault());
        bin.addEventListener("drop", e => {
          const itemId = e.dataTransfer.getData("text/plain");
          const item = document.getElementById(itemId);
          if (!item) return;
          const correctType = level.items[itemId];
          if (correctType === binType) {
            bin.appendChild(item);
            item.setAttribute("draggable", false);
            item.style.cursor = "default";
            correctCount++;
            if (correctCount === Object.keys(level.items).length) {
              if (currentLevel < levels.length - 1) {
                result.innerText = "å¤ªæ£’äº†ï¼æº–å‚™é€²å…¥ä¸‹ä¸€é—œ...";
                nextBtn.style.display = "inline-block";
              } else {
                result.innerText = "ğŸ‰ æ­å–œä½ å®Œæˆå…¨éƒ¨ 5 é—œï¼ä½ æ˜¯åˆ†é¡é”äººï¼";
              }
            }
          } else {
            alert("åˆ†é¡éŒ¯èª¤ï¼Œå†è©¦è©¦çœ‹ï¼");
          }
        });
        container.appendChild(bin);
      });
    }

    nextBtn.addEventListener("click", () => {
      currentLevel++;
      loadLevel(currentLevel);
    });

    loadLevel(currentLevel);
  </script>
</body>
</html>